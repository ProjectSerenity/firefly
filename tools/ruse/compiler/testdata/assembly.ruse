; A simple package with an assembly function.

(package assembly)

'(abi syscall)
'(arch x86-64)
(asm-func (syscall6
		(sys uintptr)
		(arg1 uintptr)
		(arg2 uintptr)
		(arg3 uintptr)
		(arg4 uintptr)
		(arg5 uintptr)
		(arg6 uintptr) uintptr)
	(syscall))

'(arch x86-64)
(let syscall (abi
	(params rax rdi rsi rdx r10 r8 r9)
	(result rax)
	(scratch rcx r11)))
